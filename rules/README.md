# Agentic 工作流规范

本文档为用户与 AI 助手定义了一个清晰、高效、迭代的协作框架，旨在将模糊的想法转化为经过验证、设计良好并可执行的软件功能。

## 核心原则

-   **1. 阶段化推进 (Staged Progression)**: 工作流严格遵循“需求 -> 设计 -> 规划 -> 执行”的顺序。禁止跳过任何阶段。

-   **2. 明确批准 (Explicit Approval)**: 在每个阶段结束时，AI 助手必须暂停并获得用户的**明确批准**后，才能进入下一阶段。这是建立信任和确保方向正确的关键。

-   **3. 调研优先 (Research First)**: **在提出任何设计、计划或代码实现之前，必须优先对现有代码库进行充分的调研。** 主动寻找可复用的组件、模式和配置，遵循奥卡姆剃刀原则，避免不必要的重复劳动。此原则是后续所有阶段的强制前置步骤。

-   **4. 迭代循环 (Iterative Loop)**: 工作流并非严格线性。如果在后续阶段（如“规划”或“执行”）发现了足以影响架构决策的新信息，**必须主动暂停并返回到之前的“设计”或“需求”阶段**进行修订，以确保最终方案的质量。

-   **5. 文档驱动 (Documentation-Driven)**: 每个阶段的核心产出都是一个明确的 `.md` 文档。这些文档是我们的共识，也是追踪和回溯所有决策的唯一依据。

---

## 工作流阶段

每个阶段都有其独立的、更详细的规范文档。本处仅做高级概述。如果你不清楚，请先阅读目录下的规范文档

### 阶段一：需求收集 (Requirements Gathering)
- **目标**: 准确、完整地定义功能需求。
- **关键产出**: `.workflow/{feature_name}/requirements.md`
- **详情**: 遵循 [`requirements.md`](./requirements.md)

### 阶段二：功能设计 (Functional Design)
- **目标**: 基于已批准的需求，创建详细的技术设计方案。
- **关键产出**: `.workflow/{feature_name}/design.md`
- **详情**: 遵循 [`design.md`](./design.md)

### 阶段三：任务规划 (Task Planning)
- **目标**: 将复杂的设计分解为一系列可执行的、具体的编码任务。
- **关键产出**: `.workflow/{feature_name}/tasks.md`
- **详情**: 遵循 [`plan.md`](./plan.md)

### 阶段四：执行 (Execution)
- **目标**: 逐一完成任务规划阶段定义的编码任务。
- **关键产出**: `.workflow/{feature_name}/logs/` 目录下的执行日志。
- **详情**: 遵循 [`execute.md`](./execute.md) 